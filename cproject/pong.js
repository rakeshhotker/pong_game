"use strict";/*Compiled using Cheerp (R) by Leaning Technologies Ltd*/var aW=Math.imul;var aX=Math.fround;var oSlot=0;var nullArray=[null];var nullObj={d:nullArray,o:0};function bl(p){var b=null,f='function';if(typeof fetch===f)b=fetch(p).then(r=>r.arrayBuffer());else if(typeof require===f){p=require('path').join(__dirname, p);b=new Promise((y,n)=>{require('fs').readFile(p,(e,d)=>{if(e)n(e);else y(d);});});}else b=new Promise((y,n)=>{y(read(p,'binary'));});return b;}function S(){var f=null;aK=400;C=400;f=document.getElementById("pongcanvas");p=f;f.width=400;p.height=400;f=document.body;f.appendChild(p);f=p;k=f.getContext("2d");+requestAnimationFrame(v());f="keydown";document.addEventListener(f,R());}function R(){var f=null,h=null;f={a0:null,a1:null,a2:null};O(f,aJ);h=N(f);M(f.a1,f.a2);return h;}function M(h,f){if(h!==null)h(f);}function N(h){var f=null;if(h.a1!==null){f=[{a0:null,a1:null}];f[0].a0=h.a1;f[0].a1=h.a2;f=bb(ad,f[0]);w(h.a0,f);h.a1=null;}return h.a0;}function w(j,h){var f=null;f=A;if(f!==null){f.set(j,h);return;}f=new Map();A=f;f.set(j,h);}function ad(f){f.a0(f.a1);}function O(h,f){var j=null;j=f;h.a0=j;h.a1=null;h.a2=null;}function aJ(f){if( +f.keyCode===37)aA();else if( +f.keyCode===39)az();}function v(){var f=null,h=null;f={a0:null,a1:null,a2:null};af(f,I);h=ac(f);Z(f.a1,f.a2);return h;}function Z(h,f){if(h!==null)h(f);}function ac(h){var f=null;if(h.a1!==null){f=[{a0:null,a1:null}];f[0].a0=h.a1;f[0].a1=h.a2;f=bb($,f[0]);w(h.a0,f);h.a1=null;}return h.a0;}function $(f){f.a0(f.a1);}function af(h,f){var j=null;j=f;h.a0=j;h.a1=null;h.a2=null;}function I(){ay();+requestAnimationFrame(v());}function ai(h,f){var H=null,G=null,F=null,E=null,D=null,t=null,m=null,j=null;H=k;G="";F="rgb(";E=String(255);D=",";t=String(255);m=",";j=String(255);H.fillStyle=G.concat(F,E,D,t,m,j,")");k.beginPath();k.arc((+(h|0)),(+(f|0)),5,0,6.2831853071795862);k.fill();}function al(){var h=null,f=null;f=k;f.font="24px sans-serif";f=k;f.fillStyle="rgb(255,255,255)";f=k;h="You lost!";f.fillText(h,0,(+((C|0)-24|0)));}function z(t,m,j,h,f){var aP=null,aO=null,aN=null,H=null,G=null,F=null,E=null,D=null;aP=k;aO="";aN="rgb(";H=String(f&255);G=",";F=String(f>>>8&255);E=",";D=String(f>>>16&255);aP.fillStyle=aO.concat(aN,H,G,F,E,D,")");k.fillRect((+(t|0)),(+(m|0)),(+(j|0)),(+(h|0)));}function i(f,g){return String(av(f,g));}function av(m,n){var h=null,f=0,j=0;h=String();f=m[n]|0;if((f&255)===0)return h;j=0;while(1){h=h.concat(String.fromCharCode(f<<24>>24));j=j+1|0;f=m[n+j|0]|0;if((f&255)!==0)continue;break;}return h;}var aK;var C;var p;var k;var A=null;function bb(func, obj){return function(){var a=Array.prototype.slice.call(arguments);a.unshift(obj);return func.apply(null,a);};}function bc(func, obj, objo){return function(){var a=Array.prototype.slice.call(arguments);a.unshift(obj,objo);return func.apply(null,a);};}function bh(f){a=new Uint8Array(f);b=new Uint16Array(f);c=new Int32Array(f);d=new Float32Array(f);e=new Float64Array(f);}var a=null,b=null,c=null,d=null,e=null,__asm=null,__heap=null;function bi(){throw new Error('this should be unreachable');};var aA=null;var az=null;var ay=null;bl('pong.wasm').then(f=>WebAssembly.instantiate(f,{i:{S:S,z:z,al:al,ai:ai,}}),console.log).then(f=>{__asm=f.instance.exports;__heap=__asm.bj.buffer;bh(__heap);aA=__asm.aA;az=__asm.az;ay=__asm.ay;Promise.resolve();__asm.W();},console.log,console.log);